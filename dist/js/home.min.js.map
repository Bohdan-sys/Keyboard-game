{"version":3,"file":"home.min.js","mappings":"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","sources":["webpack://vanilla/./src/js/components/wordBar.ts","webpack://vanilla/./src/js/utils/db.ts","webpack://vanilla/webpack/bootstrap","webpack://vanilla/webpack/runtime/define property getters","webpack://vanilla/webpack/runtime/hasOwnProperty shorthand","webpack://vanilla/webpack/runtime/make namespace object","webpack://vanilla/./src/js/home.ts"],"sourcesContent":["import { getFromDb } from \"../utils/db\";\n\nexport class WordBar {\n    private element: HTMLElement;\n    private textWrapperElement: HTMLElement;\n    private textElement: HTMLElement;\n    private inputElement: HTMLInputElement;\n    private storage: any;\n    private data: any;\n    private formattedArr: string[];\n    \n    constructor(element: HTMLElement) {\n        this.element = element;\n        this.textWrapperElement;\n        this.textElement;\n        this.inputElement;\n        this.storage = JSON.parse(localStorage.getItem('selectedAricle')) || [];\n        this.data;\n        this.formattedArr;\n      \n        this.init();\n    }\n\n    private init() : void {\n        if (this.element) {\n            this.textWrapperElement = this.element.querySelector('.js-word-bar-text-wrapper');\n            this.textElement = this.element.querySelector('.js-word-bar-text');\n            this.inputElement = this.element.querySelector('.js-word-bar-input');\n\n            this.getData().then(() => {\n                this.createEvents();\n                this.shuffleData();\n            });\n        }    \n    }\n\n    private async getData(): Promise<void>  {\n        const { id } = this.storage;\n        if (id) {\n            this.data = await getFromDb(id);            \n        }\n    }\n\n    private shuffleData(): void {\n        const { randomize } = this.storage;\n        if (this.data) {\n            const { text } = this.data;\n            const clearedText = text.replace(/\\r?\\n/g, '');\n            if (randomize) {\n                const randomArr = clearedText\n                .split(' ')\n                .sort(() => Math.random() - 0.5)\n                .join(' ');\n                this.textElement.innerText = randomArr;\n            } else {\n                this.textElement.innerText = clearedText;\n            }\n        }\n    }\n\n    private createEvents(): void {        \n        this.inputElement?.addEventListener('input', () => this.checkWord(this.inputElement.value));\n    }\n\n    private checkWord(str: string): void {\n        const { text } = this.data;\n        this.textElement.innerHTML = text\n            .split('')\n            .map((element: string, index: number) => {\n                if (index < str.length) {\n                    if (element === str[index]) {\n                        return `<span class=\"is-correct\">${element}</span>`;\n                    } else {\n                        return `<span class=\"is-error\">${element}</span>`;\n                    }\n                } else {\n                    return element;\n                }\n            })\n            .join('');\n        this.calculateWordSize();\n    }\n\n    private calculateWordSize(): void {\n        const character = [...this.element.querySelectorAll<HTMLElement>('.js-word-bar-text span')];\n        const wordWidth = character.reduce((acc, cur) => acc + cur.offsetWidth, 0);\n        this.textElement.style.left = `-${wordWidth}px`;\n    }\n}","export async function getFromDb(id?: string): Promise<any> {\n    try {\n\n        const res = await fetch(`http://localhost:3004/texts/${id ? id : \"\"}`, { method: 'GET' });\n        return res.json();\n    } catch (error) {\n        console.error('Some problems with JSON file', error);\n    }\n}\n\nexport async function addToDb(data: any): Promise<void> {\n    try {\n        await fetch('http://localhost:3004/texts', { \n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            mode: 'cors',\n            body: JSON.stringify(data)\n        });\n    } catch (error) {\n        console.error('Some problems with adding JSON file', error);\n    }\n}\n\nexport async function deleteFromDb(id: string): Promise<void> {\n    try {\n        await fetch(`http://localhost:3004/texts/${id}`, { method: 'DELETE' });\n    } catch (error) {\n        console.error('Some problems with removing from DB', error);\n    }\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import { WordBar } from \"./components/wordBar\";\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    new WordBar(document.querySelector('.js-word-bar'))\n});"],"names":[],"sourceRoot":""}